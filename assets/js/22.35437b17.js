(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{301:function(t,e,i){"use strict";i.r(e);var a=i(0),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),e("p",[t._v("In addition to correctly implementing all of the requirements from the previous assignment. The application will implement the following.")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),e("p",[t._v("For this API, we will want to know the name of the court, and the number of courts available.")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),e("br"),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[e("p",[t._v("Ensure all expected errors are properly formatted, and respond with the correct status code. This includes malformed object ids and failing mongoose validation errors."),e("MicroText",{attrs:{label:"All errors messages should end with 2 periods"}})],1)]),t._v(" "),t._m(22),t._v(" "),t._m(23)]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27)])}),[function(){var t=this._self._c;return t("h2",{attrs:{id:"assignment-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#assignment-3"}},[this._v("#")]),this._v(" Assignment 3")])},function(){var t=this._self._c;return t("h1",{attrs:{id:"api-with-authentication"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api-with-authentication"}},[this._v("#")]),this._v(" API With Authentication")])},function(){var t=this._self._c;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Due before our week 13 class.")]),this._v(" "),t("p",[this._v("Counts for 10% of your final grade.")])])},function(){var t=this._self._c;return t("h2",{attrs:{id:"the-brief"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-brief"}},[this._v("#")]),this._v(" The brief")])},function(){var t=this._self._c;return t("p",[this._v("This is the third of three take home assignments related to building a backend web service to support a simple tennis application called "),t("em",[this._v("tennisStar")]),this._v(".")])},function(){var t=this._self._c;return t("p",[this._v("In the previous assignments you built the base for the "),t("em",[this._v("tennisStar")]),this._v(" RESTful API using Node.js, the Express framework and MongoDB. For this assignment you will enhance that foundation with Google OAuth 2.0 authentication.")])},function(){var t=this._self._c;return t("h2",{attrs:{id:"core-requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#core-requirements"}},[this._v("#")]),this._v(" Core Requirements")])},function(){var t=this._self._c;return t("ol",[t("li",[this._v("Create a new "),t("code",[this._v("/auth")]),this._v(" router module that will support")])])},function(){var t=this._self._c;return t("ul",[t("li",[t("code",[this._v("/google")]),this._v(" | redirecting a user to google api for authentication")]),this._v(" "),t("li",[t("code",[this._v("/google/callback")]),this._v(" | handle the callback from google and redirect to a given url with a JWT token in the query\n"),t("ul",[t("li",[this._v("ex "),t("code",[this._v("http://localhost:3000/login-success?token=ey1290812ejn....")])])])])])},function(){var t=this._self._c;return t("ol",{attrs:{start:"2"}},[t("li",[this._v("The user schema should have the following properties:")])])},function(){var t=this._self._c;return t("h4",{attrs:{id:"user"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[this._v("#")]),this._v(" User")])},function(){var t=this,e=t._self._c;return e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Property")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Required")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("Min Length")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("Max Length")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("64")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("googleId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}})])])])},function(){var t=this._self._c;return t("h4",{attrs:{id:"court"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#court"}},[this._v("#")]),this._v(" Court")])},function(){var t=this._self._c;return t("p",[this._v("A tennis "),t("strong",[this._v("court")]),this._v(" is the location where a "),t("strong",[this._v("match")]),this._v(" of tennis is played. Typically, this will be a park or tennis club, and there will be more than one actual court there.")])},function(){var t=this,e=t._self._c;return e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Property")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Required")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("Min Length")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("Max Length")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("_id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ObjectId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("Auto generated by Mongodb")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("250")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("count")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("99")])])])])},function(){var t=this._self._c;return t("h4",{attrs:{id:"match"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#match"}},[this._v("#")]),this._v(" Match")])},function(){var t=this,e=t._self._c;return e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Property")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Required")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("Min Length")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("Max Length")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("_id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("ObjectId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("Auto generated by Mongodb")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("court")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Court")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("player1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("User")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("player2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("User")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sets")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[Number, Number]]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("5")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("winner")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("User")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}}),t._v(" "),e("td",{staticStyle:{"text-align":"right"}})])])])},function(){var t=this._self._c;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Use document references")]),this._v(" "),t("ul",[t("li",[this._v("court should be stored as ObjectId in the db, referencing the Court collection")]),this._v(" "),t("li",[this._v("player1, player2 and winner should be stored as ObjectId in the db, referencing the User collection")])])])},function(){var t=this._self._c;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("All requests to the "),t("em",[this._v("match")]),this._v(" resource are only available to authenticated users. All requests to the "),t("em",[this._v("court")]),this._v(" resource are available to all users, authenticated or unauthenticated.")])])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("An authenticated user will have a valid JWT token in the "),t("code",[this._v("Authorization")]),this._v(" header, using the "),t("code",[this._v("Bearer [token]")]),this._v(" strategy.")])])},function(){var t=this._self._c;return t("ol",{attrs:{start:"4"}},[t("li",[this._v("All requests to the "),t("em",[this._v("match")]),this._v(" resource should be limited to the authenticated users.")])])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("CREATE: when creating a match, player1 should automatically be the authenticated user. Only player2 needs to come from the input.")]),this._v(" "),t("li",[this._v("GET: normal behaviour, except a 401 should be thrown if authentication fails.")]),this._v(" "),t("li",[this._v("UPDATE / DELETE: a user can only update or delete a match that they created (ie player1 matches the authenticated user). A 403 should be thrown if an authenticated user tries to update or delete a match where they are not player1.")]),this._v(" "),t("li",[this._v("All responses from the match resource should include the populated Court (all properties) and the populated User (_id and name only, DO NOT INCLUDE googleId).")])])},function(){var t=this._self._c;return t("li",[t("p",[this._v("Use security best practices to guard again Cross Site Scripting (XSS) and database injection attacks.")])])},function(){var t=this._self._c;return t("li",[t("p",[this._v("Ensure that you write clean and readable code. Pay attention to:")])])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[t._v("no runtime errors")]),t._v(" "),e("li",[t._v("consistent 2 space indentation")]),t._v(" "),e("li",[t._v("USE YARN, not NPM")]),t._v(" "),e("li",[t._v("follow the project structure used in this court")]),t._v(" "),e("li",[t._v("properly formatted JSON responses with either "),e("code",[t._v("data")]),t._v(" or "),e("code",[t._v("error")]),t._v(" at the root")]),t._v(" "),e("li",[t._v("no debugging console logs")]),t._v(" "),e("li",[t._v("no commented out code")]),t._v(" "),e("li",[t._v("semantically descriptive names for variables and functions")]),t._v(" "),e("li",[t._v("use a .gitignore file and do not commit node_modules/ or .env files")]),t._v(" "),e("li",[t._v("include .env.example file")]),t._v(" "),e("li",[t._v("properly formatted "),e("code",[t._v("package.json")]),t._v(" file\n"),e("ul",[e("li",[t._v("correct project name")]),t._v(" "),e("li",[t._v("your author details")]),t._v(" "),e("li",[t._v("start and dev scripts")])])])])},function(){var t=this._self._c;return t("h2",{attrs:{id:"logistics"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#logistics"}},[this._v("#")]),this._v(" Logistics")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[t._v("Continue working in your Assignment 1 repo.")]),t._v(" "),e("li",[t._v("Create a branch called "),e("code",[t._v("assignment-3")]),t._v(".")]),t._v(" "),e("li",[t._v("Build the project on your laptop.")]),t._v(" "),e("li",[t._v("Test each route with Postman.")]),t._v(" "),e("li",[t._v("Make git commits as you complete each requirement")]),t._v(" "),e("li",[t._v("When you are ready to submit, merge branch "),e("code",[t._v("assignment-3")]),t._v(" in the "),e("code",[t._v("main")]),t._v(" branch, making sure both "),e("code",[t._v("main")]),t._v(" AND "),e("code",[t._v("assignment-1")]),t._v(" are up to date in Github.\n"),e("ul",[e("li",[t._v("You should not have to send me a new collaboration request, it should be the same repo as the other 2 assignments3")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("It is a good habit to make a git commit as you complete each logical requirement. This not only tracks your progress, but protects your working code in case you later break it and need to roll back.")])])}],!1,null,null,null);e.default=s.exports}}]);